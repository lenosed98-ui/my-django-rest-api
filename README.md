# 📝 Django REST API

این پروژه یک **API ساده** با استفاده از **Django و Django REST
Framework** است.\
امکانات اصلی:\
- ثبت‌نام و ورود کاربران (JWT)\
- مدیریت پست‌ها (CRUD)\
- ثبت و نمایش کامنت‌ها

------------------------------------------------------------------------

## 🚀 شروع کار

### 1. پیش‌نیازها

قبل از شروع مطمئن شوید که این‌ها نصب هستند:\
- Python 3.11 یا بالاتر\
- pip (مدیریت پکیج‌های پایتون)\
- virtualenv ((به دلیل جلوگیری از ازدهام کتابخانه ها و پکیج های گوناگون)اختیاری ولی بهتره داشته باشید)

------------------------------------------------------------------------

### 2. دانلود پروژه

``` bash
git clone https://github.com/lenosed98-ui/my-django-rest-api.git
cd project/config
```
### از این بخش میتوانید کلیه پروژه را دانلود نمایید
------------------------------------------------------------------------

### 3. ساخت محیط مجازی و فعال‌سازی

#### ویندوز

``` bash
python -m venv venv
venv\Scripts\activate
```

#### لینوکس / مک

``` bash
python3 -m venv venv
source venv/bin/activate
```

------------------------------------------------------------------------

### 4. نصب پکیج‌ها

``` bash
pip install -r requirements.txt
```

------------------------------------------------------------------------

### 5. آماده‌سازی دیتابیس

``` bash
python manage.py migrate
python manage.py createsuperuser
```

------------------------------------------------------------------------

### 6. اجرای سرور

``` bash
python manage.py runserver
```

حالا می‌تونید پروژه رو در مرورگر باز کنید:\
👉 http://127.0.0.1:8000/

------------------------------------------------------------------------

## 🔑 سیستم احراز هویت (JWT)

-   گرفتن توکن ورود:

``` http
POST /api/auth/token/
{
  "username": "your_username",
  "password": "your_password"
}
```

-   رفرش توکن:

``` http
POST /api/auth/token/refresh/
{
  "refresh": "your_refresh_token"
}
```

-   استفاده در درخواست‌ها:

``` http
Authorization: Bearer <your_access_token>
```
###  در این بخش باید ترمینال دیگری همزمان با ترمینال اصلی باز کنید و این موارد را در آنجا اجرا کنید
------------------------------------------------------------------------

## 📌 اندپوینت‌ها

### 👤 کاربران

-   `POST /api/auth/register/` → ثبت‌نام\
-   `POST /api/auth/token/` → ورود و گرفتن توکن\
-   `POST /api/auth/token/refresh/` → گرفتن توکن جدید

### 📝 پست‌ها

-   `GET /api/posts/` → لیست پست‌ها\
-   `POST /api/posts/` → ساخت پست جدید (نیاز به ورود)\
-   `GET /api/posts/{id}/` → جزئیات پست\
-   `PUT /api/posts/{id}/` → ویرایش پست (فقط نویسنده)\
-   `DELETE /api/posts/{id}/` → حذف پست (فقط نویسنده)

### 💬 کامنت‌ها

-   `GET /api/comments/` → لیست کامنت‌ها\
-   `POST /api/comments/` → اضافه کردن کامنت\
-   `GET /api/comments/{id}/` → جزئیات کامنت

📍 مثال ساخت کامنت:

``` http
POST /api/comments/
Authorization: Bearer <your_token>
{
  "post": 1,
  "content": "این یک کامنت تستی است."
}
```

------------------------------------------------------------------------

## ⚙️  تنظیمات مهم که باید به تنظیمات قبلی اضافه شوند (settings.py)

فعال‌سازی اپ‌ها:

``` python
INSTALLED_APPS = [ 
    'rest_framework',
    'rest_framework_simplejwt',
    'blog',
]
```

تنظیمات JWT:

``` python
REST_FRAMEWORK = {
    'DEFAULT_AUTHENTICATION_CLASSES': (
        'rest_framework_simplejwt.authentication.JWTAuthentication',
    ),
}
```

------------------------------------------------------------------------

## 🧪 تست API

برای تست می‌تونید از یکی از ابزارهای زیر استفاده کنید:\
- Postman\
- httpie

مثال با httpie:

``` bash
http GET http://127.0.0.1:8000/api/posts/ Authorization:"Bearer <your_token>"
```

------------------------------------------------------------------------
## نکات تکمیلی##
--:  محیط این پروژه ویرایشگر  vscode   ...بوده است در صورت استفاده تغییر مفسر پایتون و افزودن و نصب افزونه ها فراموش نشود.
--برای ثبت نام و ورود فرم طراحی نشده است و الزاما باید با استفاده از ترمینال جدا از ترمینال اصلی ثبت نام و ورود و مشاهده پست ها و ... را انجام داد. 

## lenosed98@gmail.com ## 
  در صورت بروز هر گونه مشکل یا ابهام به نشانی  بالا پیام ارسال نمایید